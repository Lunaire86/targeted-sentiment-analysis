---
title: 'Visualisation of data'
author: 'Maria Singstad Paulsen'
date: '`r format(Sys.Date(), "%Y-%B-%d")`'
output:
    pdf_document:
        fig_width: 5
        fig_height: 3.5
        df_print: kable
        highlight: tango
        # default tango pygments kate monochrome espresso zenburn haddock breezedark
    fontsize: 12pt
    # highlight: atelier forest light
    # highlight: solar

    # LaTeX stuff
    # documentclass: scrartcl
    header-includes:
        - \usepackage{amsmath}
        - \usepackage{xcolor}
        - \usepackage{bm}

        # The following lines lets us use the Chancery font with its size altered
        - \DeclareFontFamily{OT1}{pzc}{}
        - \DeclareFontShape{OT1}{pzc}{m}{it}{<->s*[1.2] pzcmi7t}{}
        - \DeclareMathAlphabet{\mathpzc}{OT1}{pzc}{m}{it}
        # - \usepackage[dvipsnames]{xcolor}
---

```{r setup, include = F}
# Initial setup
knitr::opts_chunk$set(echo = TRUE)
# Fix the error "Package xcolor Warning: Incompatible color definition on input line ..."
knitr::knit_hooks$set(document = function(x) {
  sub('\\usepackage[]{color}', '\\usepackage{xcolor}', x, fixed = TRUE)
})
```


```{r, echo = F, warning = F, message = F}
# Load the packages we'll use in this notebook.
library(car)
library(ggplot2)
library(reticulate)
```

Load some NLP related packages / libraries
```{r}
# read in the libraries we're going to use
library(tidyverse) # general utility & workflow functions
library(tidytext) # tidy implimentation of NLP methods
library(tm) # general text mining functions, making document term matrixes
library(SnowballC) # for stemming
library(caTools) # moving window statistics, ROC, AUC
```

Load the training data.
```{r, echo = F, warning = F, message = F}
df <- read.delim('/home/fero/Desktop/nlp/in5550_exam/data/raw/train.conll', header = F, quote = "", col.names = c('token', 'tag'))
summary(df); cat('\n')
str(df)
```
Group "B-targ-Negative" with "I-targ-Negative", and "B-targ-Positive" with "I-targ-Positive". We want to inspect whether the data is skewed.
```{r}
df$polarity <- factor(df$tag, levels = levels(df$tag), labels = c('Negative', 'Positive', 'Negative', 'Positive', 'O'))
summary(df$polarity)
```

```{r}
plot(df$polarity)
```

Now, click the **Run** button on the chunk toolbar to [execute](https://www.jetbrains.com/help/pycharm/r-markdown.html#run-r-code) the chunk code. The result should be placed under the chunk.
Click the **Knit and Open Document** to built and preview an output.